---
// src/pages/articulos.astro

import Card from "../components/Card.astro";

// Importa la función `getCollection` de astro:content
import { getCollection } from "astro:content";

const pageTitle = "Artículos";

// Obtiene todos los artículos de la colección 'blog'
const allPosts = await getCollection("blog");

// Opcional: Ordena los posts por fecha, del más reciente al más antiguo
allPosts.sort((a, b) => b.data.date.getTime() - a.data.date.getTime());

const latestTwoPosts = allPosts.filter((post) => post.data.image).slice(0, 4);
---

  <section
    class="grid grid-cols-1 gap-6 justify-center items-center m-4 lg:mt-10 lg:m-20"
  >
  <h1 class="text-5xl rozha text-center mb-3">Ultima edición</h1>
    {
      latestTwoPosts.map((post, index) => (
        <Card
          url={`/blog/${post.slug}`}
          title={post.data.title}
          description={post.data.description}
          image={post.data.image!}
          index={index}
        />
      ))
    }
  </section>


